<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get Down with Nouns!</title>
    <style>
        .box {
            border: 2px solid black;
            padding: 20px;
            width: 600px;
            margin: auto;
            text-align: center;
            background-color: lightblue;
        }
        .choice {
            margin: 5px;
            padding: 10px 20px;
            font-size: 16px;
        }
        #score {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
            display: inline-block;
            width: 70px;
            height: 50px;
            line-height: 50px;
            background-color: black;
            color: white;
        }
        #btn1, #btn2 {
            padding: 10px 20px;
            font-size: 16px;
            margin: 10px;
        }
        #submitInstructions, #errorMessage, #latinSentence, #latinNoun, #newNounTB, #latinNoun2, #newNounTB2,#btnA1, #btnA2, #btnA3, #btnA4, #btnB1, #btnB2, #btnB3, #btnB4 {
            font-size: 20px;
            margin: 20px 0;
            
        }

        #submitInstructions {
            font-size: 20px;
            margin: 20px;
            background-color: red;
            color: white;
        }

        

    </style>
</head>
<body>
<!-- Score Box -->
 <div class="box">
<label  id="score" for="score">Score</label>  <br>
<p id="errorMessage"></p>
<p id="submitInstructions">Welcome to The Latin Case-inator!</p>


<p id="latinSentence"></p>
  <label   style="display: none" id="latinNoun" for="latinNoun">First Noun - Person</label> 
  <input style="display: none; width: 400px;""  type ="text" id="newNounTB" name= "newNounTB"> <br> <br>
  <label  style="display: none" id="latinNoun2" for="latinNoun2">Second Noun - Thing</label> 
  <input style="display: none; width: 400px;""  type ="text" id="newNounTB2" name= "newNounTB2"> <br> <br>
 <button  onclick="startClick()" style= 'color:black; background-color:yellow' id="btn1">Start</button>
 
 <button onclick="endGame()" style= "display:none" id="btn2">No</button>
 
 
<button  style= "display:none" id="btnA1">Submit</button>
<button  style= "display:none" id="btnA2">Submit</button>
<button " style= "display:none" id="btnA3">Submit</button>
<button  style= "display:none" id="btnA4">Submit</button>

<button class="choice"  style="display:none" id="btnB1">0</button>
<button class="choice"  style="display:none" id="btnB2">1</button>
<button class="choice"  style="display:none" id="btnB3">2</button>
<button class="choice"  style="display:none" id="btnB4">3</button>

</div>


<script>
/*
User Inputs 1st noun
First Click on Button 1 loads user's noun and triggers userInputValues()
User Inputs 2nd noun
Second Click on Button starts startGame() or showQuestion()
Buttons 1A-4A load
Click on correct button triggers CorrectAnswer() and loads userInputValues()
//
*/


class Noun {
  constructor(nominative, genitive, gender, singMeaning, plMeaning){
    this.nominative = nominative;
    this.genitive = genitive;
    this.gender = gender;
    this.singMeaning = singMeaning;
    this.plMeaning = plMeaning;
  }

  //NOMINATIVE

  get nominativeSing(){
    return this.singNominative();
  }

  singNominative(){
    if (this.genitive.slice(-2,) == "ae"){
      return this.nominative;
    } else if (this.genitive.slice(-2,) == "ei"){
      return this.genitive.slice(0,-2) + "ēs";
    } else if (this.genitive.slice(-1,) == "i"){
      return this.nominative;
    } else if (this.genitive.slice(-2,) == "is"){
        if (this.gender == "n"){
          return this.nominative;
        } else {
          return this.nominative;
        }
    } else if (this.genitive.slice(-2,) == "us"){
      return this.nominative;
    }
  }

  get nominativeSingTrans(){
    return this.singNominativeTrans();
  }

  singNominativeTrans(){
    return "the " + this.singMeaning;
  }

    //GENITIVE

  get genitiveSing(){
      return this.singGenitive();
  }

  singGenitive(){
    if (this.genitive.slice(-2,) == "ae"){
        return this.genitive;
    } else if (this.genitive.slice(-2,) == "ei"){
        return this.genitive.slice(0,-2) + "ēī";
    } else if (this.genitive.slice(-1,) == "i"){
        return this.genitive.slice(0,-1) + "ī";
    } else if (this.genitive.slice(-2,) == "is"){
        return this.genitive;
    } else if (this.genitive.slice(-2,) == "us"){
        return this.genitive.slice(0,-2) + "ūs";
    }
  }

  get genitiveSingTrans(){
      return this.singGenitiveTrans();
  }

  singGenitiveTrans(){
      return " of the " + this.singMeaning;
  }

    //DATIVE

  get dativeSing(){
      return this.singDative();
  }

  singDative(){
    if (this.genitive.slice(-2,) == "ae"){
      return this.genitive;
    } else if (this.genitive.slice(-2,) == "ei"){
      return this.genitive.slice(0,-2) + "ēī";
    } else if (this.genitive.slice(-1,) == "i"){
      return this.genitive.slice(0,-1) + "ō";
    } else if (this.genitive.slice(-2,) == "is"){
      return this.genitive.slice(0,-2) + "ī";
    } else if (this.genitive.slice(-2,) == "us"){
      return this.genitive.slice(0,-2) + "ūi";
    }
  }

  get dativeSingTrans(){
    return this.singDativeTrans();
  }

  singDativeTrans(){
    return " to the " + this.singMeaning;
  }

  //ACCUSATIVE

  get accusativeSing(){
    return this.singAccusative();
  }

  singAccusative(){
    if (this.genitive.slice(-2,) == "ae"){
      return this.genitive.slice(0,-2) + "am";
    } else if (this.genitive.slice(-2,) == "ei"){
      return this.genitive.slice(0,-2) + "em";
    } else if (this.gender == "n" && this.genitive.slice(-1,) == "i"){
      return this.nominative;
    } else if (this.genitive.slice(-1,) == "i"){
        return this.genitive.slice(0,-1) + "um";
    } else if (this.genitive.slice(-2,) == "is"){
        if (this.gender == "n"){
          return this.nominative;
        } else {
          return this.genitive.slice(0,-2) + "em";
        }
    } else if (this.genitive.slice(-2,) == "us"){
      return this.genitive.slice(0,-2) + "um";
    }
  }

  get accusativeSingTrans(){
    return this.singAccusativeTrans();
  }

  singAccusativeTrans(){
      return " the " + this.singMeaning;
  }

  //ablative

  get ablativeSing(){
    return this.singAblative();
  }

  singAblative(){
    if (this.genitive.slice(-2,) == "ae"){
      return this.genitive.slice(0,-2) + "ā";
    } else if (this.genitive.slice(-2,) == "ei"){
      return this.genitive.slice(0,-2) + "ē";
    } else if (this.genitive.slice(-1,) == "i"){
      return this.genitive.slice(0,-1) + "ō";
    } else if (this.genitive.slice(-2,) == "is"){
      if (this.gender == "n"){
        if (this.nominative.slice(-2,) == "re" || this.nominative.slice(-2,) == "al"){
          return this.genitive.slice(0,-2) + "ī";
        } else {
        return this.genitive.slice(0,-2) + "e";
        }
      } else {
        return this.genitive.slice(0,-2) + "e";
      }

    } else if (this.genitive.slice(-2,) == "us"){
      return this.genitive.slice(0,-2) + "ū";
    }
  }

  get ablativeSingTrans(){
    return this.singAblativeTrans();
  }

  singAblativeTrans(){
    return " by " + this.singMeaning;
  }

  //Vocative
  get vocativeSing(){
    return this.singVocative();
  }

  singVocative(){
    if (this.genitive.slice(-2,) == "ae"){
      return this.nominative;
    } else if (this.genitive.slice(-2,) == "ei"){
      return this.genitive.slice(0,-2) + "ēs";
    } else if (this.genitive.slice(-1,) == "i"){
      if (this.gender == "n"){
        return this.nominative;
      } else if (this.gender == "m"){
          if (this.nominative.slice(-3,) == "ius"){
            return this.genitive.slice(0,-2);
          } else if (this.nominative.slice(-2,) == "us"){
            return this.genitive.slice(0,-1) + "e";
          } else {
            return this.nominative;
          }
      }
    } else if (this.genitive.slice(-2,) == "is"){
        return this.nominative;
    } else if (this.genitive.slice(-2,) == "us"){
      return this.nominative;
    }
  }

  get vocativeSingTrans(){
    return this.singVocativeTrans();
  }

  singVocativeTrans(){
      let vocative = this.singMeaning;
      return vocative[0] + vocative.substring(1) + "!";
    }


  //NOMINATIVE PLURAL

  get nominativePl(){
    return this.plNominative();
  }

  plNominative(){
    if (this.genitive.slice(-2,) == "ae"){
      return this.genitive.slice(0,-2) + "ae";
    } else if (this.genitive.slice(-2,) == "ei"){
      return this.genitive.slice(0,-2) + "ēs";
    } else if (this.genitive.slice(-1,) == "i"){
      if (this.gender == "n"){
        return this.genitive.slice(0,-1) + "a";
      } else {
        return this.genitive.slice(0,-1) + "ī";
      }
    } else if (this.genitive.slice(-2,) == "is"){
        if (this.gender == "n"){
          if (this.nominative.slice(-2,) == "re" || this.nominative.slice(-2,) == "al"){
            return this.genitive.slice(0,-2) + "ia";
          } else {
          return this.genitive.slice(0,-2) + "a";
          }
        } else {
          return this.genitive.slice(0,-2) + "ēs";
        }
    } else if (this.genitive.slice(-2,) == "us"){
      return this.genitive.slice(0,-2) + "ūs";
    }
  }

  get nominativePlTrans(){
    return this.plNominativeTrans();
  }

  plNominativeTrans(){
    return "the " + this.plMeaning;
  }

    //GENITIVE

  get genitivePl(){
      return this.plGenitive();
  }

  plGenitive(){
    if (this.genitive.slice(-2,) == "ae"){
        return this.genitive.slice(0,-2) + "ārum";
    } else if (this.genitive.slice(-2,) == "ei"){
        return this.genitive.slice(0,-2) + "ērum";
    } else if (this.genitive.slice(-1,) == "i"){
        return this.genitive.slice(0,-1) + "ōrum";
    } else if (this.genitive.slice(-2,) == "is"){
        if (this.nominative == "canis"){
            return this.genitive.slice(0,-2) + "um";
        } else if (this.nominative.slice(-2,) == "rb" || this.nominative.slice(-2,) == "nt" || this.nominative.slice(-2,) == "rt"){
        // if (this.nominative.slice(-2,) == "rb" || "nt" || "rt"){
          return this.genitive.slice(0,-2) + "ium";
        } else if (this.gender == "n"){
            if (this.nominative.slice(-2,) == "re" || this.nominative.slice(-2,) == "al"){
              return this.genitive.slice(0,-2) + "ium";
            } else {
              return this.genitive.slice(0,-2) + "um";
            }
        } else if (this.nominative == this.genitive){
          return this.genitive.slice(0,-2) + "ium";
        } else {
          return this.genitive.slice(0,-2) + "um";
        }
    } else if (this.genitive.slice(-2,) == "us"){
        return this.genitive.slice(0,-2) + "uum";;
    }
  }

  get genitivePlTrans(){
      return this.plGenitiveTrans();
  }

  plGenitiveTrans(){
      return " of the " + this.plMeaning;
  }

    //DATIVE

  get dativePl(){
      return this.plDative();
  }

  plDative(){
    if (this.genitive.slice(-2,) == "ae"){
      return this.genitive.slice(0,-2) + "īs";
    } else if (this.genitive.slice(-2,) == "ei"){
      return this.genitive.slice(0,-2) + "ēbus";
    } else if (this.genitive.slice(-1,) == "i"){
      return this.genitive.slice(0,-1) + "īs";
    } else if (this.genitive.slice(-2,) == "is"){
      return this.genitive.slice(0,-2) + "ibus";
    } else if (this.genitive.slice(-2,) == "us"){
      return this.genitive.slice(0,-2) + "ibus";
    }
  }

  get dativePlTrans(){
    return this.plDativeTrans();
  }

  plDativeTrans(){
    return " to the " + this.plMeaning;
  }

  //ACCUSATIVE

  get accusativePl(){
    return this.plAccusative();
  }

  plAccusative(){
    if (this.genitive.slice(-2,) == "ae"){
      return this.genitive.slice(0,-2) + "ās";
    } else if (this.genitive.slice(-2,) == "ei"){
      return this.genitive.slice(0,-2) + "ēs";
    } else if (this.genitive.slice(-1,) == "i"){
      if (this.gender == "n"){
        return this.genitive.slice(0,-1) + "a";
      } else {
        return this.genitive.slice(0,-1) + "ōs";
      }
    } else if (this.genitive.slice(-2,) == "is"){
        if (this.gender == "n"){
          console.log(this.nominative.slice(-2,));
          if (this.nominative.slice(-2,) == "re" || this.nominative.slice(-2,) == "al"){
            return this.genitive.slice(0,-2) + "ia";
          } else {
          return this.genitive.slice(0,-2) + "a";
          }
        } else {
          return this.genitive.slice(0,-2) + "ēs";
        }
    } else if (this.genitive.slice(-2,) == "us"){
      return this.genitive.slice(0,-2) + "ūs";
    }
  }

  get accusativePlTrans(){
    return this.plAccusativeTrans();
  }

  plAccusativeTrans(){
      return " the " + this.plMeaning;
  }

  //ablative

  get ablativePl(){
    return this.plAblative();
  }

  plAblative(){
    if (this.genitive.slice(-2,) == "ae"){
      return this.genitive.slice(0,-2) + "īs";
    } else if (this.genitive.slice(-2,) == "ei"){
      return this.genitive.slice(0,-2) + "ēbus";
    } else if (this.genitive.slice(-1,) == "i"){
      return this.genitive.slice(0,-1) + "īs";
    } else if (this.genitive.slice(-2,) == "is"){
      return this.genitive.slice(0,-2) + "ibus";
    } else if (this.genitive.slice(-2,) == "us"){
      return this.genitive.slice(0,-2) + "ibus";
    }
  }

  get ablativePlTrans(){
    return this.plAblativeTrans();
  }

  plAblativeTrans(){
    return " by the " + this.plMeaning;
  }

  //Vocative Plural

  get vocativePl(){
    return this.plVocative();
  }

  plVocative(){
    if (this.genitive.slice(-2,) == "ae"){
      return this.genitive.slice(0,-2) + "ae";
    } else if (this.genitive.slice(-2,) == "ei"){
      return this.genitive.slice(0,-2) + "ēs";
    } else if (this.genitive.slice(-1,) == "i"){
      if (this.gender == "n"){
        return this.genitive.slice(0,-1) + "a";
      } else {
        return this.genitive.slice(0,-1) + "ī";
      }
    } else if (this.genitive.slice(-2,) == "is"){
      if (this.gender == "n"){
        if (this.nominative.slice(-2,) == "re" || this.nominative.slice(-2,) == "al"){
          return this.genitive.slice(0,-2) + "ia";
        } else {
        return this.genitive.slice(0,-2) + "a";
        }
      } else {
        return this.genitive.slice(0,-2) + "ēs";
      }
    } else if (this.genitive.slice(-2,) == "us"){
      return this.genitive.slice(0,-2) + "ūs";
    }
  }

  get vocativePlTrans(){
    return this.plVocativeTrans();
  }

  plVocativeTrans(){
    let vocative = this.plMeaning;
    return vocative[0] + vocative.substring(1) + "!";
  }

}


// Array to hold the new noun forms
 var newNoun = [];
 var newNoun2 = [];
 var newNounArray = [];
 var array = [];

var userInput1 = "";
 var userInput2 = "";
 var userArray = [];
 var button = [];
 var button1 = [];
 var verb = [];
 var passiveVerb= [];
 var dativeVerb = [];
 var verb3rdPlural = [];
 var verb3rdSing = [];
 
 var sub = [];
 var subject = [];

 //var subject2 = [];
 var dirObj = [];
 var directObject = [];

 var randSingPlNouns = [];
 //var directObject2 = [];
 var indirectObject = [];
 var possession = [];
 var ablative = [];

 var ranNoun1 = new Noun(array[0][0], array[0][1], array[0][2], array[0][3], array[0][4]);
 var ranNoun2 = new Noun(array[1][0], array[1][1], array[1][2], array[1][3], array[1][4]) ;

 var score = 0;
 var randomIndex = 0;
 var ranVerbIndex = 0;
 var ranPasVbIndx = 0;
 var ranVerb3rdPluralIndex = 0;
 var ranVerb3rdSingIndex = 0;
 var ranPersonIndex = 0;
 var ranPerson2Index = 0;
 var ranPersonDatIndex = 0;
 var ranThingIndex = 0;
 var ranThing2Index = 0;
 var ranSubIndex = 0;
 var ranIndObjIndex = 0;
 var ranPossIndex = 0;
 var ranAblIndex = 0;
 var ranSubjectIndex = 0;
 var ranDirObjIndx = 0;
 var ranIndirectObjectIndex = 0;
 var ranPossessionIndex = 0;
 var ranAblativeIndex = 0;
 var ranNounIndx = 0;
 var ranDatVerbIndex = 0;

 var currentQuestion = 0;
  

 var questions = [];
 var answer = "";
 var answers = [];
 var noun = [];
 
  

function shuffle(array){
	var currentIndex = array.length;
	var temporaryValue;

	while (currentIndex > 0){
		randomIndex = Math.floor(Math.random() * currentIndex);
		currentIndex --;

		temporaryValue = array[currentIndex];
		array[currentIndex] = array[randomIndex];
		array[randomIndex] = temporaryValue;
	}
		return array;
}



function checkInputValues1(){
 
    try {
      
            newNoun = document.getElementById("newNounTB").value.split(",").map(item => item.trim());
            newNoun2 = document.getElementById("newNounTB2").value.split(",").map(item => item.trim());
      

            newNounArray.push(newNoun);
            newNounArray.push(newNoun2);

            let array = newNounArray;
            console.log("New Noun Array Length: " + array[0].length);
            console.log("Checking Input Values: " + array);
            console.log(array[0][1]);
      
    
            document.getElementById("submitInstructions").innerHTML = "";
            document.getElementById("newNounTB").style.display = "none";
            document.getElementById("latinNoun").style.display = "none";
            document.getElementById("newNounTB2").style.display = "none";
            document.getElementById("latinNoun2").style.display = "none";

            document.getElementById("btn1").innerHTML = "Start the Game!";
            document.getElementById("btn1").onclick = function(){startGame()};
        
            document.getElementById("btn2").style.display = "none";
            console.log("Final Noun Array from checkInputValues(): " + newNounArray);
            console.log("Array Length: " + array.length);
            console.log(array[0].length );
 
           console.log(array[1][2].charAt(0).toLowerCase());
          if (true){
                for (var i = 0; i < array[0].length; i++) {
                console.log("Part " + (i + 1) + ": " + array[0][i]);
                //1. Check if input is provided
                if (array[0][i]  === undefined || array[0][i] === null || array[0][i].trim()  === ""){  
                throw new Error("A form is missing. Please provide the five requested forms.");
                //document.getElementById("errorMessage").innerHTML = "Please provide a valid entry for each requested form.";
                // throw new Error("Please provide a valid entry for each requested form.");
                //document.getElementById("btn1").innerHTML = "Start Over";
                //document.getElementById("btn1").onclick = function(){startClick();}//reset noun array on error}
                  } 
                }
         }

        
        
    
      if (true){
        for (var i = 0; i < array[1].length; i++) {
        console.log("Part " + (i + 1) + ": " + array[0][i]);
        //1. Check if input is provided
        if (array[1][i]  === undefined || array[1][i] === null || array[1][i].trim()  === ""){  
          throw new Error("A form is missing. Please provide the five requested forms.");
         // document.getElementById("errorMessage").innerHTML = "Please provide a valid entry for each requested form.";
        document.getElementById("btn1").innerHTML = "Start Over";
        document.getElementById("btn1").onclick = function(){startClick();}//reset noun array on error}
        } 
      }
    }

    
      if (array[0].length !== 5 || array[1].length !== 5) {
        console.log("Error: Invalid input lengths - Noun 1 length: " + array[0].length + ", Noun 2 length: " + array[1].length);
        throw new Error("A form is missing. Please provide the five requested forms.");
        //document.getElementById("errorMessage").innerHTML = "Oops! Please enter two Latin nouns with all five forms each, separated by commas.";
        document.getElementById("btn1").innerHTML = "Start Over";
        document.getElementById("btn1").onclick = function(){startClick();}//reset noun array on error
        //throw new Error("Please enter two Latin nouns with all five forms each, separated by commas.");
      } 
  
      console.log("Checking First Noun Genitive Ending: " + array[0][1].slice(-2,));
      if (array[0][1].slice(-2,) !== "ae" && array[0][1].slice(-1,) !== "i" && array[0][1].slice(-2,) !== "is" && array[0][1].slice(-2,) !== "us" && array[0][1].slice(-2,) !== "ei"){
        throw new Error("Please enter a valid genitive ending for the First Noun!");
        //console.log("Error: Invalid genitive ending - Noun 1 genitive: " + array[0][1].slice(-2,));
        console.log(array[0][1].slice(-2,)=="ae");
        document.getElementById("errorMessage").innerHTML = "Please check the genitive ending of your First Latin noun!";
        document.getElementById("btn1").innerHTML = "Start Over";
        document.getElementById("btn1").onclick = function(){startClick();}//reset noun array on error
      } 

  

      //console.log("Checking Second Noun Genitive Ending: " + array[1][1].slice(-2,));
      if (array[1][1].slice(-2,) !== "ae"  && array[1][1].slice(-1,) !== "i" && array[1][1].slice(-2,) !== "is" && array[1][1].slice(-2,) !== "us" && array[1][1].slice(-2,) !== "ei"){
        throw new Error("Please enter a valid genitive ending for the Second Noun!");
        //document.getElementById("errorMessage").innerHTML = "Please check the genitive ending of your Second Latin noun!";
        document.getElementById("btn1").innerHTML = "Start Over";
        document.getElementById("btn1").onclick = function(){startClick();}//reset noun array on error
      } 

      //console.log("Checking Second Noun Genitive Ending: " + array[1][1].slice(-2,));
      if (array[0][2].slice(0,1).toLowerCase() !== "m"  && array[0][2].slice(0,1).toLowerCase() !== "f" && array[0][2].slice(0,1).toLowerCase() !== "n"){
        throw new Error("Please enter a valid gender  (m, f, or n) for the First Noun!");
        //document.getElementById("errorMessage").innerHTML = "Please check the genitive ending of your Second Latin noun!";
        document.getElementById("btn1").innerHTML = "Start Over";
        document.getElementById("btn1").onclick = function(){startClick();}//reset noun array on error
      } 

      console.log("Checking Second Noun Genitive Ending: " + array[1][2].slice(0,1).toLowerCase());
      console.log("Second Noun Gender: " + array[1][2].charAt(0).toLowerCase());
      if (array[1][2].slice(0,1).toLowerCase() !== "m"  && array[1][2].slice(0,1).toLowerCase() !== "f" && array[1][2].slice(0,1).toLowerCase() !== "n"){
        throw new Error("Please enter a valid gender (m, f, or n) for the Second Noun!");
        //document.getElementById("errorMessage").innerHTML = "Please check the genitive ending of your Second Latin noun!";
        document.getElementById("btn1").innerHTML = "Start Over";
        document.getElementById("btn1").onclick = function(){startClick();}//reset noun array on error
      } 
      

      /*
      else {
        
        document.getElementById("errorMessage").innerHTML = "GOOD TO GO!";
        document.getElementById("btn1").innerHTML = "Start Game!";
        document.getElementById("btn1").onclick = function(){startGame();}//reset noun array on error
        //throw new Error("Please enter two Latin nouns with all five forms each, separated by commas.");
        
      }
      */


            return newNounArray;
            //break; //exit loop if no error

      } catch (error) {
            
            document.getElementById("errorMessage").innerHTML = "Oops! " + error.message;
            document.getElementById("errorMessage").style.backgroundColor = "red"; 
            document.getElementById("errorMessage").style.color = "white";

            document.getElementById("btn1").innerHTML = "Start Over";
            document.getElementById("btn1").onclick = function(){startClick();}//reset noun array on error}
          //return  startClick(); //reset noun array on error
      }
   }
    
  
  


function checkInputValues2(){
  while(true){ //loop until user input is valid
    try {
      
      newNoun = document.getElementById("newNounTB").value.split(",").map(item => item.trim());
      newNoun2 = document.getElementById("newNounTB2").value.split(",").map(item => item.trim());
      

      newNounArray.push(newNoun);
      newNounArray.push(newNoun2);

      let array = newNounArray;
      console.log("New Noun Array Length: " + array[0].length);
      console.log("Checking Input Values: " + array);
      console.log(array[0][1]);
      
    
     document.getElementById("submitInstructions").innerHTML = "";
      document.getElementById("newNounTB").style.display = "none";
      document.getElementById("latinNoun").style.display = "none";
      document.getElementById("newNounTB2").style.display = "none";
      document.getElementById("latinNoun2").style.display = "none";

      document.getElementById("btn1").innerHTML = "Start the Game!";
      document.getElementById("btn1").onclick = function(){startGame()};
  
      document.getElementById("btn2").style.display = "none";
      console.log("Final Noun Array from checkInputValues(): " + newNounArray);
      console.log("Array Length: " + array.length);
    console.log(array[0].length );

    
      if (array[1][1].slice(-2,) !== "ae"  && array[1][1].slice(-1,) !== "i" && array[1][1].slice(-2,) !== "is" && array[1][1].slice(-2,) !== "us" && array[1][1].slice(-2,) !== "ei"){
        document.getElementById("errorMessage").innerHTML = "Please check the genitive ending of your Second Latin noun!";
        document.getElementById("btn1").innerHTML = "Start Over";
        document.getElementById("btn1").onclick = function(){startClick();}//reset noun array on error
      } 
      else {
        
        document.getElementById("errorMessage").innerHTML = "GOOD TO GO!";
        document.getElementById("btn1").innerHTML = "Start Game!";
        document.getElementById("btn1").onclick = function(){startGame();}//reset noun array on error
        //throw new Error("Please enter two Latin nouns with all five forms each, separated by commas.");
        
      }
        return newNounArray;
      break; //exit loop if no error

      } catch (error) {
        document.getElementById("errorMessage").innerHTML = "Oops! " + error.message;
      return  startClick(); //reset noun array on error
    }
  }
    
  }




function startClick(){
   document.getElementById("submitInstructions").style.backgroundColor = "lightgreen"; 
   document.getElementById("submitInstructions").style.color = "black"; 
    newNounArray = [];
    score = 0;
    document.getElementById("errorMessage").innerHTML = "";
    document.getElementById("score").innerHTML = "Score";
    document.getElementById("btn2").style.display = "none";
    document.getElementById("latinSentence").style.display = "none";
    document.getElementById("newNounTB").style.display = "inline-block";
    document.getElementById("latinNoun").style.display = "inline-block";

    document.getElementById("newNounTB").placeholder = "e.g., mater, matris, f, mother, mothers";
    document.getElementById("newNounTB2").placeholder = "e.g., corona, coronae, f, crown, crowns";

    document.getElementById("newNounTB2").style.display = "inline-block";
    document.getElementById("latinNoun2").style.display = "inline-block";
    document.getElementById("submitInstructions").innerHTML = "Please enter the nominative, genitive, gender, and singular and plural meanings of two Latin nouns. Separate each form with a comma.";
    //document.getElementById("btn1").onclick = loadInputValues;
    document.getElementById("btn1").onclick = checkInputValues1;//checkInputValues;

    //document.getElementById("latinNoun").innerHTML = "First Latin Noun ";

    document.getElementById("latinSentence").style.display = "none"
    document.getElementById("btn1").style.display = "inline-block";
    document.getElementById("btn1").innerHTML = "Enter Nouns";
   
    document.getElementById("btn1").style.backgroundColor = "yellow";
    document.getElementById("btn1").style.color = "black";

    document.getElementById("latinNoun").style.backgroundColor = "blue";
    document.getElementById("latinNoun").style.color = "white";
    document.getElementById("latinNoun2").style.backgroundColor = "blue";
    document.getElementById("latinNoun2").style.color = "white";
    
    currentQuestion = 0;
    
  }

/*
  //function checkInputValues3() was the last attempt before revising to checkInputValues1() above

  function checkInputValues3(){
  while(true){ //loop until user input is valid
    try {
      
            newNoun = document.getElementById("newNounTB").value.split(",").map(item => item.trim());
            newNoun2 = document.getElementById("newNounTB2").value.split(",").map(item => item.trim());
      

            newNounArray.push(newNoun);
            newNounArray.push(newNoun2);

            let array = newNounArray;
            console.log("New Noun Array Length: " + array[0].length);
            console.log("Checking Input Values: " + array);
            console.log(array[0][1]);
      
    
            document.getElementById("submitInstructions").innerHTML = "";
            document.getElementById("newNounTB").style.display = "none";
            document.getElementById("latinNoun").style.display = "none";
            document.getElementById("newNounTB2").style.display = "none";
            document.getElementById("latinNoun2").style.display = "none";

            document.getElementById("btn1").innerHTML = "Start the Game!";
            document.getElementById("btn1").onclick = function(){startGame()};
        
            document.getElementById("btn2").style.display = "none";
            console.log("Final Noun Array from checkInputValues(): " + newNounArray);
            console.log("Array Length: " + array.length);
            console.log(array[0].length );

   

      //console.log("Checking Second Noun Genitive Ending: " + array[1][1].slice(-2,));
      if (array[1][1].slice(-2,) !== "ae"  && array[1][1].slice(-1,) !== "i" && array[1][1].slice(-2,) !== "is" && array[1][1].slice(-2,) !== "us" && array[1][1].slice(-2,) !== "ei"){
        throw new Error("Error: Invalid genitive ending - Noun 2 genitive: " + array[1][1].slice(-2,));
        //document.getElementById("errorMessage").innerHTML = "Please check the genitive ending of your Second Latin noun!";
        document.getElementById("btn1").innerHTML = "Start Over";
        document.getElementById("btn1").onclick = function(){startClick();}//reset noun array on error
      } 
      

      


            return newNounArray;
            break; //exit loop if no error

      } catch (error) {
            document.getElementById("errorMessage").innerHTML = "Oops! " + error.message;
            document.getElementById("btn1").innerHTML = "Start Over";
            document.getElementById("btn1").onclick = function(){startClick();}//reset noun array on error}
          //return  startClick(); //reset noun array on error
      }
   }
    
  }

*/


  function loadInputValues(){
    
    
  
    document.getElementById("errorMessage").innerHTML = "";

    array = checkInputValues1();
    //array = userInputValues();
    console.log("Array length " + array.length);
    
    
    console.log("Updated Array: " + newNounArray);
    console.log("Updated Array: " + array);
   

    ranNoun1 = new Noun(array[0][0], array[0][1], array[0][2], array[0][3], array[0][4]);
    ranNoun2 = new Noun(array[1][0], array[1][1], array[1][2], array[1][3], array[1][4]);
    console.log(ranNoun1);
    console.log(ranNoun2);
    
  }



  function startGame(){

    document.getElementById("errorMessage").innerHTML = "";
    
    document.getElementById("submitInstructions").innerHTML = "Click Question 1 to start the Game!";
    //document.getElementById("submitInstructions").innerHTML = "";
    document.getElementById("btn1").innerHTML = "Question " + (currentQuestion + 1);
    document.getElementById("btn1").style.backgroundColor = "yellow";
    document.getElementById("btn1").style.color = "black";
    document.getElementById("btn1").onclick = function(){showQuestion() };
    //document.getElementById("newNounTB").style.display = "none";
    //document.getElementById("latinNoun").style.display = "none";
    //document.getElementById("newNounTB2").style.display = "none";
    //document.getElementById("latinNoun2").style.display = "none";
    //console.log("Starting Game with Nouns: " + newNounArray);
   
  }

  function capitalizeFirstLetter(string){
      return string.charAt(0).toUpperCass() + string.slice(1);
    }





  function showQuestion(){

   document.getElementById("submitInstructions").style.backgroundColor = "red"; 
   document.getElementById("submitInstructions").style.color = "white"; 

   document.getElementById("errorMessage").innerHTML = "";
    
    document.getElementById("btn1").style.display = "none";

    //load data for questions here

    loadInputValues()
    

    //Things to do: Add ranNoun2 to subject and direct object; add ranDirectObject index; add array for random subjects and objects for buttons, questions and answers.

    
    person = [ranNoun1.ablativeSing,ranNoun1.dativePl,ranNoun1.accusativeSing,ranNoun1.nominativeSing,ranNoun1.ablativeSingTrans,ranNoun1.dativePlTrans,ranNoun1.accusativeSingTrans,ranNoun1.nominativeSingTrans];
    person2 = [ranNoun1.ablativeSing,ranNoun1.dativePl,ranNoun1.accusativeSing,ranNoun1.nominativePl,ranNoun1.ablativeSingTrans,ranNoun1.dativePlTrans,ranNoun1.accusativeSingTrans,ranNoun1.nominativePlTrans];
    personDat = [ranNoun1.accusativePl,ranNoun1.dativePl,ranNoun1.accusativeSing,ranNoun1.dativeSing,ranNoun1.accusativePlTrans,ranNoun1.dativePlTrans,ranNoun1.accusativeSingTrans,ranNoun1.dativeSingTrans];
    
    
    thing =[ranNoun2.genitivePl, ranNoun2.nominativePl,ranNoun2.ablativeSing, ranNoun2.accusativeSing,ranNoun2.genitivePlTrans, ranNoun2.nominativePlTrans,ranNoun2.ablativeSingTrans, ranNoun2.accusativeSingTrans];
    thing2 =[ranNoun2.genitivePl, ranNoun2.nominativeSing,ranNoun2.ablativePl, ranNoun2.accusativePl,ranNoun2.genitivePlTrans, ranNoun2.nominativeSingTrans,ranNoun2.ablativePlTrans, ranNoun2.accusativePlTrans];


    subject = [ranNoun1.ablativeSing,ranNoun1.dativePl,ranNoun1.accusativeSing,ranNoun1.nominativePl,ranNoun1.ablativeSingTrans,ranNoun1.dativePlTrans,ranNoun1.accusativeSingTrans,ranNoun1.nominativePlTrans];
    console.log(subject);
    directObject =[ranNoun2.genitivePl, ranNoun2.nominativePl,ranNoun2.ablativeSing, ranNoun2.accusativeSing,ranNoun2.genitivePlTrans, ranNoun2.nominativePlTrans,ranNoun2.ablativeSingTrans, ranNoun2.accusativeSingTrans];
    directObject2 =[ranNoun2.genitivePl, ranNoun2.nominativePl,ranNoun2.ablativePl, ranNoun2.accusativePl,ranNoun2.genitivePlTrans, ranNoun2.nominativePlTrans,ranNoun2.ablativePlTrans, ranNoun2.accusativePlTrans];
  

   
    console.log(directObject[0]);

    
   verb = [["amo", "I love"],["vides","You see"], ["tradit", "She hands over"], ["capimus", "We take"],["tangitis", "Y'all touch"], ["spectant", "They look at"]];
   ranVerbIndex = Math.floor(Math.random() * verb.length);

   dativeVerb = [["do", "I give"],["demonstras","You show"], ["dat", "He gives"], ["demonstramus", "We show"],["traditis", "Y'all hand over"], ["tradunt", "They hand over"]];
   ranDatVerbIndex = Math.floor(Math.random() * dativeVerb.length);

   passiveVerb = [["ducitur", "is led"],["videtur","is seen"], ["movetur", "is moved"], ["capitur", "is taken"],["auditur", "is heard"], ["portatur", "is carried"]];
   ranPasVbIndx = Math.floor(Math.random() * passiveVerb.length);

   verb3rdPlural = [["amant", "love"],["vident","see"], ["portant", "carry"], ["capiunt", "take"],["tangunt", "touch"], ["spectant", "look at"]];
   ranVerb3rdPluralIndex = Math.floor(Math.random() * verb3rdPlural.length);

   verb3rdSing = [["amat", "loves"],["videt","sees"], ["portat", "carries"], ["capit", "takes"],["tangit", "touches"], ["spectat", "looks at"]];
   ranVerb3rdSingIndex = Math.floor(Math.random() * verb3rdSing.length);

   noun = [subject,directObject];
   ranNounIndx = Math.floor(Math.random() * noun.length);
   console.log(ranNounIndx);
    console.log(noun[ranNounIndx][7]);

    


    //load questions here
    questions = [
      
      {
      question: "_____________ " + verb[ranVerbIndex][0] + ".  " + verb[ranVerbIndex][1] + " " + thing[7].toUpperCase() + ".",
      choices: [thing[0],thing[1],thing[2],thing[3]],
      answer: "\"" + verb[ranVerbIndex][1] + " " +  thing[7].toUpperCase() + "\" is translated as \"" +  thing[3].toUpperCase() + " " + verb[ranVerbIndex][0] + ".\""
   },
     
      {
      question: ranNoun1.nominativeSing + " sub " + "_________________" + " " + passiveVerb[ranPasVbIndx][0] + ".  T" + ranNoun1.nominativeSingTrans.slice(1) + " " + passiveVerb[ranPasVbIndx][1] + " under " + ranNoun2.nominativeSingTrans.toUpperCase() + ".",
      choices: [ranNoun2.nominativePl, ranNoun2.accusativeSing, ranNoun2.ablativePl, ranNoun2.ablativeSing],
      answer: "\"" +"T" + ranNoun1.nominativeSingTrans.slice(1) + " " + passiveVerb[ranPasVbIndx][1] + " under " + ranNoun2.nominativeSingTrans.toUpperCase() + "\" is translated as \"" + ranNoun1.nominativeSing + " sub " + ranNoun2.ablativeSing.toUpperCase() + " " + passiveVerb[ranPasVbIndx][0] + ".\""
   },
      {
      question: "_____________ " + " " + thing[3] + " " + verb3rdSing[ranVerb3rdSingIndex][0] + ".  " + person[7].toUpperCase() + " " + verb3rdSing[ranVerb3rdSingIndex][1] + " " + thing[7] + ".",
      choices: [person[0], person[1], person[2], person[3]],
      answer: "\"" + person[7].toUpperCase() + " " + verb3rdSing[ranVerb3rdSingIndex][1] + " " + thing[7] + "\" is translated as \"" + person[3].toUpperCase() + " " +  thing[3] + " " + verb3rdSing[ranVerb3rdSingIndex][0] + ".\""
   },
      {
      question: "_____________ " + thing[3] + " " + dativeVerb[ranDatVerbIndex][0] + ".  " + dativeVerb[ranDatVerbIndex][1] + " " + thing[7] + " " + personDat[7].toUpperCase() + ".",
      choices: [personDat[0],personDat[1],personDat[2],personDat[3]],
      answer: "\"" + dativeVerb[ranDatVerbIndex][1] + " " +  thing[7] + " " + personDat[7].toUpperCase() + "\" is translated as \"" + personDat[3].toUpperCase() + " " +  thing[3] + " " + dativeVerb[ranDatVerbIndex][0] + ".\""
   },
     { question: "_____________ " + " " + thing[3] + " " + verb3rdPlural[ranVerb3rdPluralIndex][0] + ".  " + person2[7].toUpperCase() + " " + verb3rdPlural[ranVerb3rdPluralIndex][1] + " " + thing[7] + ".",
      choices: [person2[0], person2[1], person2[2], person2[3]],
      answer: "\"" + person2[7].toUpperCase() + " " + verb3rdPlural[ranVerb3rdPluralIndex][1] + " " + thing[7] + "\" is translated as \"" + person2[3].toUpperCase() + " " +  thing[3] + " " + verb3rdPlural[ranVerb3rdPluralIndex][0] + ".\""
   },
   {
      question: ranNoun2.accusativePl + " " + "_________________" + " " + verb[ranVerbIndex][0] + ".  " + verb[ranVerbIndex][1] + " " + ranNoun2.accusativePlTrans + " " + ranNoun1.genitivePlTrans.toUpperCase() + ".",
      choices: [ranNoun1.accusativePl, ranNoun1.accusativeSing, ranNoun1.ablativePl, ranNoun1.genitivePl],
      answer: "\"" + verb[ranVerbIndex][1] + " " + ranNoun2.accusativePlTrans + " " + ranNoun1.genitivePlTrans.toUpperCase() + "\" is translated as \"" + ranNoun2.accusativePl + " " + ranNoun1.genitivePl.toUpperCase() + " " + verb[ranVerbIndex][0] + ".\""
   },
    
   
   {
      question: "_____________ " + verb[ranVerbIndex][0] + ".  " + verb[ranVerbIndex][1] + " " + thing2[7].toUpperCase() + ".",
      choices: [thing2[0],thing2[1],thing2[2],thing2[3]],
      answer: "\"" + verb[ranVerbIndex][1] + " " +  thing2[7].toUpperCase() + "\" is translated as \"" +  thing2[3].toUpperCase() + " " + verb[ranVerbIndex][0] + ".\""
   },


   
   
   {
      question: "_________________ " + ranNoun2.accusativeSing + " " + dativeVerb[ranDatVerbIndex][0] + ".  "  + dativeVerb[ranDatVerbIndex][1] + "  " + ranNoun2.accusativeSingTrans + " " +  ranNoun1.dativePlTrans.toUpperCase() + ".",
      choices: [ranNoun1.nominativeSing, ranNoun1.accusativeSing, ranNoun1.nominativePl, ranNoun1.dativePl],
      answer: "\"" + dativeVerb[ranDatVerbIndex][1] + "  " + ranNoun2.accusativeSingTrans + " " +  ranNoun1.dativePlTrans.toUpperCase() +  "\" is translated as \"" + ranNoun1.dativePl.toUpperCase() + " " + ranNoun2.accusativeSing + " "  +  dativeVerb[ranDatVerbIndex][0]  + ".\""
   },
   {
      question: ranNoun2.accusativeSing + " cum  _______________" + verb[ranVerbIndex][0] + ".  " + verb[ranVerbIndex][1] + " " + ranNoun2.accusativeSingTrans + " with " + ranNoun1.nominativePlTrans.toUpperCase() + ".",
      choices: [ranNoun1.nominativeSing,ranNoun1.accusativeSing,ranNoun1.genitivePl,ranNoun1.ablativePl],
      answer: "\"" + verb[ranVerbIndex][1] + " " + ranNoun2.accusativeSingTrans + " with " + ranNoun1.nominativePlTrans.toUpperCase() +  "\" is translated as \"" +  ranNoun2.accusativeSing + " cum " + ranNoun1.ablativePl.toUpperCase() + " " + verb[ranVerbIndex][0] + ".\""
   },
   {
      question: ranNoun2.accusativeSing + " " + "_________________" + " " + verb[ranVerbIndex][0] + ".  " + verb[ranVerbIndex][1] + " " + ranNoun2.accusativeSingTrans + " " + ranNoun1.genitiveSingTrans.toUpperCase() + ".",
      choices: [ranNoun1.accusativePl, ranNoun1.accusativeSing, ranNoun1.ablativePl, ranNoun1.genitiveSing],
      answer: "\"" + verb[ranVerbIndex][1] + " " + ranNoun2.accusativeSingTrans + " " + ranNoun1.genitiveSingTrans.toUpperCase() + "\" is translated as \"" + ranNoun2.accusativeSing + " " + ranNoun1.genitiveSing.toUpperCase() + " " + verb[ranVerbIndex][0] + ".\""
   }
   
  ]

      
      console.log(currentQuestion);
      

      document.getElementById("submitInstructions").style.display = "inline-block";
      document.getElementById("latinSentence").style.display = "inline-block";
     
    
    const questionText = document.getElementById("latinSentence");
    questionText.textContent = questions[currentQuestion].question;

    const choices = document.querySelectorAll(".choice");
    choices.forEach((choice, index) => {
      choice.textContent = questions[currentQuestion].choices[index]});

    
    let button = ["btnB1", "btnB2", "btnB3", "btnB4"]
    let button1 = shuffle(button)
     console.log(button1)


    document.getElementById(button1[0]).style.display = "inline-block";
    document.getElementById(button1[0]).style.backgroundColor = "yellow";
    document.getElementById(button1[0]).style.color = "black";
    document.getElementById(button1[0]).onclick = incorrectAnswer;
    document.getElementById(button1[0]).innerHTML = questions[currentQuestion].choices[0];
    //console.log(noun[0][ranDirObjIndx][2])
    
    console.log(button1[0])// This is bnt1

    document.getElementById(button1[1]).style.display = "inline-block";
    document.getElementById(button1[1]).style.backgroundColor = "yellow";
    document.getElementById(button1[1]).style.color = "black";
    document.getElementById(button1[1]).onclick = incorrectAnswer;
    document.getElementById(button1[1]).innerHTML = questions[currentQuestion].choices[1];
   
     

    document.getElementById(button1[2]).style.display = "inline-block";
    document.getElementById(button1[2]).style.backgroundColor = "yellow";
    document.getElementById(button1[2]).style.color = "black";
    document.getElementById(button1[2]).onclick = correctAnswer;
    document.getElementById(button1[2]).innerHTML = questions[currentQuestion].choices[3];
   
    

    document.getElementById(button1[3]).style.display = "inline-block";
    document.getElementById(button1[3]).style.backgroundColor = "yellow";
    document.getElementById(button1[3]).style.color = "black";
    document.getElementById(button1[3]).onclick = incorrectAnswer;
    document.getElementById(button1[3]).innerHTML = questions[currentQuestion].choices[2];

    console.log(questions.length) 
    
   
   console.log(currentQuestion) 
   

}
  


  
function correctAnswer(){
  
  score +=10;
  document.getElementById("score").innerHTML = score;
  console.log(score);

 if (Number(currentQuestion +1) == questions.length){
      document.getElementById("latinSentence").innerHTML = "Game Over! Click \"Yes\" if you want to play again!";
      document.getElementById("submitInstructions").innerHTML = "Correct! " + questions[currentQuestion].answer;
      document.getElementById("btn1").onclick = startClick;
      
      
      document.getElementById("btn1").innerHTML = "Yes";
      document.getElementById("btn1").style.display = "inline-block";
      document.getElementById("btn1").style.backgroundColor = "yellow";
      document.getElementById("btn1").style.color = "black";
      document.getElementById("btnB1").style.display = "none";
      document.getElementById("btnB2").style.display = "none";
      document.getElementById("btnB3").style.display = "none";
      document.getElementById("btnB4").style.display = "none";

      document.getElementById("btn2").style.display = "inline-block";
      document.getElementById("btn2").onclick = endGame;
      document.getElementById("btn2").style.backgroundColor = "red";
      document.getElementById("btn2").style.color = "white";

      subject = [];
      directObject = [];
      questions = [];
      currentQuestion = 0;
      newNounArray = [];  
    } else {
    
    console.log(currentQuestion);
      console.log(questions.length);

    


    document.getElementById("submitInstructions").innerHTML = "Correct! " + questions[currentQuestion].answer;
    document.getElementById("submitInstructions").style.backgroundColor = "lightgreen"; 
    document.getElementById("submitInstructions").style.color = "black"; 
    
    
    document.getElementById("btnA1").style.display = "none";
    document.getElementById("btnA2").style.display = "none";
    document.getElementById("btnA3").style.display = "none";
    document.getElementById("btnA4").style.display = "none";

    
    document.getElementById("btn1").style.backgroundColor = "yellow";
    document.getElementById("btn1").style.color = "black";
    document.getElementById("btn1").onclick = showQuestion;
    
     document.getElementById("latinSentence").innerHTML = "";
     
    document.getElementById("btn1").style.display = "inline-block";

    document.getElementById("btnB1").style.display = "none";
    document.getElementById("btnB2").style.display = "none";
    document.getElementById("btnB3").style.display = "none";
    document.getElementById("btnB4").style.display = "none";
  
    
    currentQuestion++;
    document.getElementById("btn1").innerHTML = "Question " + Number(currentQuestion + 1);
    document.getElementById("latinSentence").innerHTML = "For Question " + Number(currentQuestion + 1) + ", click the button below to continue.";

    
} 
  
}

    
    
    
    
   

  

  
  
function incorrectAnswer(){
  document.getElementById("submitInstructions").innerHTML = "Oops! Try again!";
  score-=5;
  document.getElementById("score").innerHTML = score;
}



function endGame(){
  document.getElementById("submitInstructions").innerHTML = "Thanks for playing!";
  document.getElementById("latinSentence").style.display = "none";
  document.getElementById("btn1").style.display = "none";
  document.getElementById("btn2").style.display = "none";
}


 </script>

  






</body>
